<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Entertainment Terminal</title>
    <link rel="stylesheet" href="http://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css">
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.js"></script>
</head>

<body ng-app="moviesApp">
    <div class="off-canvas-wrapper">
        <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>
            <div class="off-canvas position-left reveal-for-large" id="my-info" data-off-canvas data-position="left">
                <div class="row column">
                    <br>
                    <img class="thumbnail" src="http://placehold.it/550x350">
                    <h5>Entertainment Terminal</h5>
                    <div class="pure-menu custom-restricted-width">
    <ul class="pure-menu-list">
        <li class="pure-menu-item pure-menu-selected"><a href="#" class="pure-menu-link">Flickr</a></li>
        <li class="pure-menu-item"><a href="#" class="pure-menu-link">Messenger</a></li>
        <li class="pure-menu-item"><a href="#" class="pure-menu-link">Sports</a></li>
        <li class="pure-menu-item"><a href="#" class="pure-menu-link">Finance</a></li>
        <li class="pure-menu-item pure-menu-has-children">
            <a href="#" id="menuLink1" class="pure-menu-link">More</a>
            <ul class="pure-menu-children">
                <li class="pure-menu-item"><a href="#" class="pure-menu-link">Autos</a></li>
                <li class="pure-menu-item"><a href="#" class="pure-menu-link">Flickr</a></li>
                <li class="pure-menu-item pure-menu-has-children">
                    <a href="#" id="menuLink1" class="pure-menu-link">Even More</a>
                    <ul class="pure-menu-children">
                        <li class="pure-menu-item"><a href="#" class="pure-menu-link">Foo</a></li>
                        <li class="pure-menu-item"><a href="#" class="pure-menu-link">Bar</a></li>
                        <li class="pure-menu-item"><a href="#" class="pure-menu-link">Baz</a></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</div>
                </div>
            </div>
            <div class="off-canvas-content" data-off-canvas-content>
                <div class="title-bar hide-for-large">
                    <div class="title-bar-left">
                        <button class="menu-icon" type="button" data-open="my-info"></button>
                        <span class="title-bar-title">Mike Mikerson</span>
                    </div>
                </div>
                <div class="callout primary">
                    <div class="row column">
                        <h1>Fulfill all your digital video consumption needs right here.</h1>
                        <p class="lead">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus luctus urna sed urna ultricies ac tempor dui sagittis. In condimentum facilisis porta. Sed nec diam eu diam mattis viverra. Nulla fringilla.</p>
                    </div>
                </div>
                <div ng-controller='moviesController as moviesCtrl' class="row small-up-2 medium-up-3 large-up-4">
                    <div class="column" ng-repeat="movie in moviesCtrl.movies">
                      <img class="thumbnail" ng-src="{{movie.poster}}">
                      <p>{{movie.title}}</p>
                    </div>
                </div>
                <hr>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="http://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.js"></script>
    <script>
        $(document).foundation();
        angular.module("moviesApp", []);
        angular.module("moviesApp")
          .controller('moviesController', moviesControllerFunc)
          .$inject = ['$http']
        function moviesControllerFunc ($http){
          var movieCtrl = this
          movieCtrl.posters = []
          movieCtrl.titles = []
          movieCtrl.movies = []
          $http({
            method: 'GET',
            url: 'http://api-public.guidebox.com/v1.43/all/rKsjr4MNd2bNG2EcYfsk2AgRo23BwZYT/movies/all/50/25/all/all'
          }).then(function successCallback(response) {
              // this callback will be called asynchronously
              // when the response is available
              // console.log(response);
              for (var i = 0; i < response.data.results.length; i++) {
                // console.log(response.data.results[i].title)
                var object = {}
                object.poster = response.data.results[i].poster_120x171;
                object.title = response.data.results[i].title;
                // movieCtrl.posters.push(response.data.results[i].poster_120x171)
                // movieCtrl.titles.push(response.data.results[i].title)
                // console.log(movieCtrl.titles)
                movieCtrl.movies.push(object);
                // console.log(movieCtrl.movies)
                // console.log(response.data.results[i].rating);
                // console.log(response.data.results[i].poster_120x171);
              }
              // console.log(response.data.results);

            }, function errorCallback(response) {
              // called asynchronously if an error occurs
              // or server returns response with an error status.
            });
        }
    </script>
</body>

</html>
